<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <title>第一个 Label | DokiMod</title>
    <meta name="description" content="">
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon" href="/logo_128x128.png">
    <meta name="description" content="为 Mod 创作赋能。">
    <meta name="theme-color" content="#fa4694">
    <meta name="keywords" content="ddlc,ddlc mod,ddlcmod,doki doki literature club,doki doki literature club mods,dokimod,文学部,文学部mod,游戏mod开发,心跳文学部,心跳文学部mod,mod开发,心跳文学部mod开发">
    <link rel="preload" href="/assets/css/0.styles.26e61c7b.css" as="style"><link rel="preload" href="/assets/js/app.49cfaaa9.js" as="script"><link rel="preload" href="/assets/js/2.6d350732.js" as="script"><link rel="preload" href="/assets/js/20.4e33b017.js" as="script"><link rel="prefetch" href="/assets/js/10.dcc5102e.js"><link rel="prefetch" href="/assets/js/11.74d20e3d.js"><link rel="prefetch" href="/assets/js/12.cdfa5f69.js"><link rel="prefetch" href="/assets/js/13.bc740a28.js"><link rel="prefetch" href="/assets/js/14.dd26d12f.js"><link rel="prefetch" href="/assets/js/15.8e7acdb1.js"><link rel="prefetch" href="/assets/js/16.4acd1d85.js"><link rel="prefetch" href="/assets/js/17.7ceead66.js"><link rel="prefetch" href="/assets/js/18.c64cdbc1.js"><link rel="prefetch" href="/assets/js/19.2303c127.js"><link rel="prefetch" href="/assets/js/21.5ac10ed5.js"><link rel="prefetch" href="/assets/js/22.18d09da0.js"><link rel="prefetch" href="/assets/js/23.9a4d6cce.js"><link rel="prefetch" href="/assets/js/24.0b257d70.js"><link rel="prefetch" href="/assets/js/25.fef7afd6.js"><link rel="prefetch" href="/assets/js/26.acc2e13d.js"><link rel="prefetch" href="/assets/js/27.f8d1766e.js"><link rel="prefetch" href="/assets/js/28.84e85c1b.js"><link rel="prefetch" href="/assets/js/29.b163d24f.js"><link rel="prefetch" href="/assets/js/3.80388485.js"><link rel="prefetch" href="/assets/js/30.525b1aca.js"><link rel="prefetch" href="/assets/js/31.79876a5a.js"><link rel="prefetch" href="/assets/js/32.9759d4be.js"><link rel="prefetch" href="/assets/js/33.5c50df01.js"><link rel="prefetch" href="/assets/js/34.256ff935.js"><link rel="prefetch" href="/assets/js/35.f5c24e12.js"><link rel="prefetch" href="/assets/js/36.79ea92d5.js"><link rel="prefetch" href="/assets/js/4.6b4635bf.js"><link rel="prefetch" href="/assets/js/5.b39d9069.js"><link rel="prefetch" href="/assets/js/6.b3359d1e.js"><link rel="prefetch" href="/assets/js/7.e0920e24.js"><link rel="prefetch" href="/assets/js/8.650ec0f5.js"><link rel="prefetch" href="/assets/js/9.d5d9a666.js">
    <link rel="stylesheet" href="/assets/css/0.styles.26e61c7b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="ant-row"><div class="sidebar-button"><i aria-label="icon: bars" class="anticon anticon-bars"><svg viewBox="0 0 1024 1024" focusable="false" data-icon="bars" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 1 0 112 0 56 56 0 1 0-112 0zm0 284a56 56 0 1 0 112 0 56 56 0 1 0-112 0zm0 284a56 56 0 1 0 112 0 56 56 0 1 0-112 0z"></path></svg></i> <span></span></div> <div class="ant-col ant-col-xs-24 ant-col-sm-24 ant-col-md-6 ant-col-lg-5 ant-col-xl-5 ant-col-xxl-4"><a href="/" class="router-link-active home-link"><img src="/logo_128x128.png" alt="DokiMod" class="logo"> <span class="site-name">DokiMod</span></a> <div class="search-box mobile-search"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div></div> <div class="ant-col ant-col-xs-0 ant-col-sm-0 ant-col-md-18 ant-col-lg-19 ant-col-xl-19 ant-col-xxl-20"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><ul role="menu" id="nav" class="ant-menu ant-menu-horizontal ant-menu-root ant-menu-light"><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-item"><a href="/" class="router-link-active">
          主页
        </a></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>
          产品
        </span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>
          文档
        </span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-item"><a href="/downloads/">
          下载
        </a></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-item"><a href="https://dokimod.cn" target="_blank">
          返回原版文档
          <i aria-label="icon: link" class="anticon anticon-link"><svg viewBox="64 64 896 896" focusable="false" data-icon="link" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M574 665.4a8.03 8.03 0 0 0-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 0 0-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 0 0 0 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 0 0 0 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 0 0-11.3 0L372.3 598.7a8.03 8.03 0 0 0 0 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z"></path></svg></i></a></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>
          GitHub
        </span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="visibility:hidden;position:absolute;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li></ul> <!----></nav></div></div> <!----></header> <aside class="sidebar"><!----> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Mod 开发</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/moddev/" aria-current="page" title="Mod 开发者 - 序" class="sidebar-link">Mod 开发者 - 序</a></li><li><a href="/moddev/font.html" title="中文字体" class="sidebar-link">中文字体</a></li><li><a href="/moddev/fontdl.html" title="中文字体包下载" class="sidebar-link">中文字体包下载</a></li><li><a href="/moddev/prepare.html" title="准备工作" class="sidebar-link">准备工作</a></li><li><a href="/moddev/firstlabel.html" aria-current="page" title="第一个 Label" class="active sidebar-link">第一个 Label</a></li><li><a href="/moddev/backgrounds.html" title="背景添加" class="sidebar-link">背景添加</a></li><li><a href="/moddev/bgm.html" title="音乐" class="sidebar-link">音乐</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>拓展功能</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/moddev/actions.html" title="GitHub Actions 远程构建" class="sidebar-link">GitHub Actions 远程构建</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>重要信息</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/moddev/warning.html" title="创作者避坑指南" class="sidebar-link">创作者避坑指南</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>进阶内容</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/moddev/customfont.html" title="自定义字体" class="sidebar-link">自定义字体</a></li><li><a href="/moddev/special.html" title="参数帮助与模板额外内容" class="sidebar-link">参数帮助与模板额外内容</a></li></ul></section></li></ul></aside> <main class="page"> <div class="theme-antdocs-content content__default"><div class="custom-block warning"><p class="custom-block-title">提示</p> <p>本页面仍在施工，故内容不完整。</p></div> <h1 id="第一个-label"><a href="#第一个-label" class="header-anchor">#</a> 第一个 Label</h1> <p>现在，打开你的文本编辑器，并且在编辑器中打开你的工程文件夹。</p> <p>接下来，打开 <code>/game</code> 文件夹下的 <code>script.rpy</code>，这里存放着游戏的基本运行逻辑。</p> <p>你应该会看到这样一个文件：</p> <div class="language-renpy extra-class"><pre class="language-renpy"><code><span class="token comment"># /game/script.rpy</span>

<span class="token tag">label</span> start<span class="token punctuation">:</span>

    <span class="token tag">$</span> anticheat <span class="token operator">=</span> <span class="token keyword">persistent</span><span class="token punctuation">.</span>anticheat <span class="token comment"># 可以忽略</span>

    <span class="token tag">$</span> chapter <span class="token operator">=</span> <span class="token number">0</span> <span class="token comment"># 目前可以忽略</span>

    <span class="token tag">$</span> _dismiss_pause <span class="token operator">=</span> <span class="token keyword">config</span><span class="token punctuation">.</span><span class="token property">developer</span> <span class="token comment"># 可以忽略</span>

    <span class="token comment"># 可以修改女主的名字</span>
    <span class="token tag">$</span> s_name <span class="token operator">=</span> <span class="token string">&quot;Sayori&quot;</span> <span class="token comment"># 可选译名：纱世里（推荐）、莎世里、纱悠里</span>
    <span class="token tag">$</span> m_name <span class="token operator">=</span> <span class="token string">&quot;Monika&quot;</span> <span class="token comment"># 推荐译名：莫妮卡</span>
    <span class="token tag">$</span> n_name <span class="token operator">=</span> <span class="token string">&quot;Natsuki&quot;</span> <span class="token comment"># 可选译名：夏树（推荐）、娜苏琪</span>
    <span class="token tag">$</span> y_name <span class="token operator">=</span> <span class="token string">&quot;Yuri&quot;</span> <span class="token comment"># 推荐译名：优里</span>

    <span class="token tag">$</span> quick_menu <span class="token operator">=</span> <span class="token boolean">True</span>
    <span class="token tag">$</span> <span class="token keyword">style</span><span class="token punctuation">.</span>say_dialogue <span class="token operator">=</span> <span class="token keyword">style</span><span class="token punctuation">.</span>normal
    <span class="token tag">$</span> in_sayori_kill <span class="token operator">=</span> <span class="token keyword">None</span>
    <span class="token tag">$</span> allow_skipping <span class="token operator">=</span> <span class="token boolean">True</span>
    <span class="token tag">$</span> <span class="token keyword">config</span><span class="token punctuation">.</span>allow_skipping <span class="token operator">=</span> <span class="token boolean">True</span>
    
    <span class="token comment"># 确定好 label，然后改动下面几行</span>
    <span class="token keyword">if</span> <span class="token keyword">persistent</span><span class="token punctuation">.</span>example_seen<span class="token punctuation">:</span>
        <span class="token keyword">call</span> tutorial_selection <span class="token keyword">from</span> _call_tutorial_selection
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">call</span> example_chapter <span class="token keyword">from</span> _call_example_chapter
    <span class="token comment"># 就动注释夹起来的这几行</span>

    <span class="token comment"># 对于教程，直接使用下面一行：</span>
    <span class="token comment"># call meet_monika</span>

    <span class="token keyword">return</span>

<span class="token tag">label</span> <span class="token function">endgame</span><span class="token punctuation">(</span>pause_length<span class="token operator">=</span><span class="token number">4.0</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token tag">$</span> quick_menu <span class="token operator">=</span> <span class="token boolean">False</span>
    <span class="token keyword">stop</span> <span class="token keyword">music</span> <span class="token property">fadeout</span> <span class="token number">2.0</span>
    <span class="token keyword">scene</span> black
    <span class="token keyword">show</span> end
    <span class="token operator">with</span> dissolve_scene_full
    <span class="token keyword">pause</span> pause_length
    <span class="token tag">$</span> quick_menu <span class="token operator">=</span> <span class="token boolean">True</span>
    <span class="token keyword">return</span>
    <span class="token comment"># 可以忽略</span>
</code></pre></div><p>其中，有几行你大可忽略，我在这个文档里也标记了一下。</p> <p>顺便解释一下，Ren'Py 的 label 指明了某一个脚本，而 <code>start</code> 这个 label 实际上很特殊，它指定了你点击 <code>新游戏</code> 按钮后会执行的脚本。</p> <p>下面的 <code>endgame</code> label 则是某周目结束后显示显示 <code>END</code> 的脚本，你可以先忽略。</p> <p>而你真正需要修改的，是脚本的第 22 行。（1.2 模板正式版则为 26 行）</p> <div class="language-renpy extra-class"><pre class="language-renpy"><code><span class="token comment"># /game/script.rpy - line 22-30</span>

    <span class="token comment"># 确定好 label，然后改动下面几行</span>
    <span class="token keyword">if</span> <span class="token keyword">persistent</span><span class="token punctuation">.</span>example_seen<span class="token punctuation">:</span>
        <span class="token keyword">call</span> tutorial_selection <span class="token keyword">from</span> _call_tutorial_selection
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">call</span> example_chapter <span class="token keyword">from</span> _call_example_chapter
    <span class="token comment"># 就动注释夹起来的这几行</span>

    <span class="token comment"># 对于教程，直接使用下面一行：</span>
    <span class="token comment"># call meet_monika</span>

</code></pre></div><p>将这几行直接修改为以下内容，注意开头的 4 个空格缩进：</p> <div class="language-renpy extra-class"><pre class="language-renpy"><code>    <span class="token keyword">call</span> meet_monika
</code></pre></div><p>（当然你不需要按 4 下空格键，一些编辑器可以用 Tab 键补全这四个空格缩进）</p> <p>下一步新建一个文件，命名为 <code>meet_monika.rpy</code>，记得扩展名。</p> <p>然后输入以下内容：</p> <div class="language-renpy extra-class"><pre class="language-renpy"><code><span class="token comment"># /game/meet_monika.rpy</span>
<span class="token tag">label</span> meet_monika<span class="token punctuation">:</span>
    
    mc <span class="token string">&quot;DDLC 太好玩了！&quot;</span>
    y <span class="token string">&quot;就是啊，Monika 多可爱啊！&quot;</span>
   
    <span class="token keyword">return</span>
</code></pre></div><p>运行一下工程，点击 <code>新游戏</code>，你应该可以看到你和 Yuri 的一段对话，只是 BGM 和背景都出现了一些问题，不像是个正经 Mod。</p> <p>不过，你的写 Mod 之路从此正式开始了！</p> <p>接下来，我们会让这个脚本更加丰富，跟着教程继续完成吧！</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新于:</span> <span class="time">3/7/2021, 7:18:10 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/moddev/prepare.html" class="prev"><i aria-label="icon: left" class="anticon anticon-left"><svg viewBox="64 64 896 896" focusable="false" data-icon="left" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 0 0 0 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"></path></svg></i>
        准备工作
      </a></span> <span class="next"><a href="/moddev/backgrounds.html">
        背景添加
        <i aria-label="icon: right" class="anticon anticon-right"><svg viewBox="64 64 896 896" focusable="false" data-icon="right" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 0 0 302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 0 0 0-50.4z"></path></svg></i></a></span></p></div> </main> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.49cfaaa9.js" defer></script><script src="/assets/js/2.6d350732.js" defer></script><script src="/assets/js/20.4e33b017.js" defer></script>
  </body>
</html>